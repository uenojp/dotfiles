#!/bin/bash
#
# Join multiple files
#

if [[ $# -le 1 ]]; then
    echo "Usage: $(basename "$0") FILE1 FILE2 [FILE...]" >&2
    exit 1
fi

mjoin() {
    if [[ -z "$2" ]]; then
        cat "$1"
        return 0
    fi

    FILE1="$1"
    FILE2="$2"
    shift 2

    mjoin <(join "$FILE1" "$FILE2") "$@"
}

mjoin "$@"

